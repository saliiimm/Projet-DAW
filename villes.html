<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Ville</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="script.js"></script>
  </head>
  <body>
    <header>
      <h1>Guide de Voyage en Ligne</h1>
      <img src="./assets/images-page1/background2.jpg" alt="Background Image" />
    </header>
    <nav>
      <ul>
        <li>Nom : Toto</li>
        <li>Prénom : Tutu</li>
        <li>Spécialité : TI</li>
        <li>Section : 1</li>
        <li>Groupe : 2</li>
        <li>Mail : t.toto@mail.dz</li>
      </ul>
      <a href="formulaire.html">Ajouter Ville</a>
    </nav>
    <section>
      <h2>Ville</h2>
      <?php
            // Récupération de l'identifiant de la ville sélectionnée
            $idVille = $_GET['id'];

            // Connexion à la base de données
            $conn = new mysqli('localhost', 'root', '1234', 'voyage');
            if ($conn->connect_error) { die("Échec de la connexion à la base de
      données : " . $conn->connect_error); } // Récupération des informations de
      la ville depuis la base de données $result = $conn->query("SELECT * FROM
      ville WHERE idvil = $idVille"); if ($result->num_rows > 0) { $ville =
      $result->fetch_assoc(); echo "
      <h3>{$ville['nomvil']}</h3>
      "; echo "
      <p>{$ville['descvil']}</p>
      "; // Récupération des sites de la ville depuis la base de données
      $resultSites = $conn->query("SELECT * FROM site WHERE idvil = $idVille");
      if ($resultSites->num_rows > 0) { echo "
      <h4>Sites</h4>
      "; echo "
      <ul>
        "; while ($site = $resultSites->fetch_assoc()) { echo "
        <li>{$site['nomsit']}</li>
        "; } echo "
      </ul>
      "; } } else { echo "Ville introuvable."; } // Fermeture de la connexion à
      la base de données $conn->close(); ?>
    </section>
  </body>
</html>
